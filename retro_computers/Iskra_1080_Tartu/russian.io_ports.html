<html lang="ru">
<head>
<link href="../../style.css" rel="stylesheet" type="text/css">
<meta charset="utf-8">
</head>
<body>
<script src="../../common.js"></script>
<script src="../"></script>
<script>StartPage("Искра 1080 Тарту. Порты ввода-вывода.")</script>
<html lang="ru">
<head>
<style>
.tbl2 {
    border-collapse: collapse;
}
.tbl2 td, .tbl2 th {
	padding: 2px 4px 2px 4px;
	border: 1px solid black
}
.tbl2 th:nth-child(1), .tbl2 td:nth-child(2)  {
	white-space: nowrap;
}
</style>
<meta charset="utf-8">
</head>
<body>


<p>В колонке "Адрес порта" в скобках указаны дублирующиеся из-за неполной дешифрации адреса.</p>

<p>При записи в порты 0B8h - 0BFh и 0F8h - 0FFh записываемое в порт значение ни на что не влияет,
важен сам факт записи.</p>

<table class="tbl2">
  <tr>
    <th>На схеме</th>
    <th>Адрес порта</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td></td>
    <td>0h - 7Fh</td>
    <td>Неизвестно.</td>
  </tr>
  <tr>
    <td>С37</td>
    <td>80h - 87h</td>
    <td>Управление последовательным портом КР580ВВ51А. Обычно эта микросхема не установлена в компьютер.</td>
  </tr>
  <tr>
    <td>С38</td>
    <td>88h (89h - 8Fh)</td>
    <td>Установка значения на контактах OD0 - OD7 внешнего порта.</td>
  </tr>
  <tr>
    <td>С39</td>
    <td>90h - 93h (94h - 97h, 0D0h - 0D7h)</td>
    <td>Установка палитры. 90h - 93h соответствуют цветам 0 - 3, 94h - 97h тоже соответствуют цветам 0 - 3 из-за неполной дешифрации адресов. При записи в порт старшие 4 бита игнорируются. Соответствия записываемых значений цветам: 0 - белый, 1 - голубой, 2 - фиолетовый, 3 - синий, 4 - желтый, 5 - зеленый, 6 - красный, 7 - неизвестно, 8 - темно-серый, 9 - темно-голубой, 10 - темно-розовый, 11 - темно-синий, 12 - темно-желтый, 14 - темно-зеленый, 15 - черный.
    </td>
  </tr>
  <tr>
    <td>С40</td>
    <td>98h (9Ah, 9Ch, 9Eh, 0D8h, 0DAh, 0DCh, 0DEh)</td>
    <td>Чтение с контактов ID0 - ID7 внешнего порта</td>
  </tr>
  <tr>
    <td>C40</td>
    <td>99h (9Bh, 9Dh, 9Fh, 0D9h, 0DBh, 0DDh, 0DFh)</td>
    <td>
      Чтение бита 0 - Чтение с магнитной ленты.<br>
      Чтение бит 1 - 7 - Чтение с контактов ID1-2 - ID7-2 внешнего порта.
    </td>
  </tr>
  <tr>
    <td>C41</td>
    <td>0A0h (0A1h - 0A7h, 0E0h - 0E7h)</td>
    <td>Однократная запись в этот порт аналогична последовательной записи в 8 регистров 0B8h - 0BFh.
    Разрешает выходы CU0-CU3.</td>
  </tr>
  <tr>
    <td>C42</td>
    <td>0A8h (0A9h - 0AFh, 0E8h - 0EFh)</td>
    <td>Биты 0 - 6 - Инорируются.<br>
    Бит 7 - Подключить ОЗУ к адресам 0..0FFh.</td>
  </tr>
  <tr>
    <td>C44</td>
    <td>0B0h (0B1h - 0B7h, 0F0h - 0F7h)</td>
    <td>Вывод на магнитофон и встроенный динамик. При записи любого значения, напряжение на разъеме МГ изменяется на противоположное.</td>
  </tr>

  <tr>
    <td>RG1</td>
    <td>0B8h</td>
    <td>Сброс нулевого бита номера видеорежима.<br>
    Цветный видеорежим имеет номер 1. Для его установки необходимо выполнить команды: out 0F8h, out 0B9h.<br>
    Монохромный видеорежим имеет номер 2. Для его установки необходимо выполнить команды: out 0B8h, out 0F9h.
    </td>
  </tr>
  <tr>
    <td>RG2</td>
    <td>0B9h</td>
    <td>Сброс первого бита номера видеорежима.<br>
  </tr>
  <tr>
    <td>RG3</td>
    <td>0BAh</td>
    <td>Выбор ПЗУ с программным кодом по адресам 0С000h - 0СFFFh. К адресам 0С000h - 0СFFFh прикреплены сразу две ПЗУ. Я их назвал "со знакогенератором" и "с программным кодом".</td>
  </tr>
  <tr>
    <td>RG4</td>
    <td>0BBh</td>
    <td>Выбор скорости UART.</td>
  </tr> 
  <tr>
    <td>RG5</td>
    <td>0BCh</td>
    <td>Установка 0 на контакте CU1 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG6</td>
    <td>0BDh</td>
    <td>Установка 0 на контакте CU2 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG7</td>
    <td>0BEh</td>
    <td>Установка 0 на контакте CU3 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG8</td>
    <td>0BFh</td>
    <td>Установка 0 на контакте CU4 внешнего порта.</td>
  </tr>

  <tr>
    <td>KEYB</td>
    <td>0C0h - 0C7h</td>
    <td>Чтение клавиатуры.</td>
  </tr>

  <tr>
    <td></td>
    <td>0C8h - 0CFh</td>
    <td>Неизвестно.</td>
  </tr>

  <tr>
    <td>RG1</td>
    <td>0F8h</td>
    <td>Установка нулевого бита номера видеорежима.<br>
  </tr>
  <tr>
    <td>RG2</td>
    <td>0F9h</td>
    <td>Установка первого бита номера видеорежима.<br>
  </tr>
  <tr>
    <td>RG3</td>
    <td>0FAh</td>
    <td>Выбор ПЗУ со знакогенератором по адресам 0С000h - 0СFFFh.</td>
  </tr>
  <tr>
    <td>RG4</td>
    <td>0FBh</td>
    <td>Выбор скорости UART.</td>
  </tr> 
  <tr>
    <td>RG5</td>
    <td>0FCh</td>
    <td>Установка 1 на контакте CU1 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG6</td>
    <td>0FDh</td>
    <td>Установка 1 на контакте CU2 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG7</td>
    <td>0FEh</td>
    <td>Установка 1 на контакте CU3 внешнего порта.</td>
  </tr>
  <tr>
    <td>RG8</td>
    <td>0FFh</td>
    <td>Установка 1 на контакте CU4 внешнего порта.</td>
  </tr>

</table>

</html>

</body>
</html>
